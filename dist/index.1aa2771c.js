let using=!1;var eraserEnabled=!1,lastPoint={x:void 0,y:void 0},canvas=document.getElementById("canvas"),actions=document.getElementById("actions"),context=canvas.getContext("2d"),lineWidth=5;function autoSetSize(){setSize(),window.onresize=function(){setSize()}}function setSize(){var e=document.documentElement.clientWidth,t=document.documentElement.clientHeight;canvas.width=e,canvas.height=t}function drawLine(e,t,c,n){context.beginPath(),context.moveTo(e,t),context.lineWidth=lineWidth,context.lineTo(c,n),context.stroke(),context.closePath()}function drawCircle(e,t,c){context.beginPath(),context.arc(e,t,c,0,2*Math.PI),context.fill(),context.closePath()}function listenToUser(){thin_wrapper.onclick=function(){lineWidth=5,thin.classList.add("active"),thick.classList.remove("active")},thick_wrapper.onclick=function(){lineWidth=10,thick.classList.add("active"),thin.classList.remove("active")},black.onclick=function(){black.classList.add("active"),red.classList.remove("active"),yellow.classList.remove("active"),blue.classList.remove("active"),context.strokeStyle="black"},red.onclick=function(){red.classList.add("active"),black.classList.remove("active"),yellow.classList.remove("active"),blue.classList.remove("active"),context.strokeStyle="red"},yellow.onclick=function(){yellow.classList.add("active"),black.classList.remove("active"),red.classList.remove("active"),blue.classList.remove("active"),context.strokeStyle="yellow"},blue.onclick=function(){blue.classList.add("active"),black.classList.remove("active"),red.classList.remove("active"),yellow.classList.remove("active"),context.strokeStyle="blue"},eraser.onclick=function(){eraserEnabled=!0,eraser.classList.add("active"),pen.classList.remove("active")},pen.onclick=function(){eraserEnabled=!1,pen.classList.add("active"),eraser.classList.remove("active")},clear.onclick=function(){context.clearRect(0,0,canvas.width,canvas.height)},download.onclick=function(){var e=canvas.toDataURL();console.log(e);var t=document.createElement("a");t.download="myPainting.png",t.href=e,t.click()},"ontouchstart"in document.documentElement?(canvas.ontouchstart=function(e){console.log("开始摸了"),using=!0;var t=e.touches[0].clientX,c=e.touches[0].clientY;lastPoint.x=t,lastPoint.y=c},canvas.ontouchmove=function(e){var t=e.touches[0].clientX,c=e.touches[0].clientY;if(using)if(eraserEnabled)context.clearRect(t-5,c-5,20,20);else{var n={x:t,y:c};drawLine(lastPoint.x,lastPoint.y,n.x,n.y),lastPoint=n}},canvas.ontouchend=function(){using=!1}):(canvas.onmousedown=function(e){using=!0;var t=e.clientX,c=e.clientY;lastPoint.x=t,lastPoint.y=c},canvas.onmousemove=function(e){var t=e.clientX,c=e.clientY;if(using)if(eraserEnabled)context.clearRect(t-5,c-5,20,20);else{var n={x:t,y:c};drawLine(lastPoint.x,lastPoint.y,n.x,n.y),lastPoint=n}},canvas.onmouseup=function(){using=!1})}autoSetSize(),listenToUser();
//# sourceMappingURL=index.1aa2771c.js.map
