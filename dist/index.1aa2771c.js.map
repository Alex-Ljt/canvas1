{"mappings":"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","sources":["src/main.js"],"sourcesContent":["let using = false;//是否按下\r\nvar eraserEnabled = false\r\nvar lastPoint = { x: undefined, y: undefined }\r\nvar canvas = document.getElementById(\"canvas\");\r\nvar actions = document.getElementById(\"actions\")\r\nvar context = canvas.getContext(\"2d\");\r\nvar lineWidth = 5\r\nautoSetSize()\r\nlistenToUser()\r\n\r\n\r\n\r\n\r\nfunction autoSetSize() {\r\n    setSize()\r\n    window.onresize = function () {\r\n        setSize()\r\n    }\r\n}\r\nfunction setSize() {\r\n    var pageWidth = document.documentElement.clientWidth\r\n    var pageHeight = document.documentElement.clientHeight\r\n    canvas.width = pageWidth\r\n    canvas.height = pageHeight\r\n}\r\n\r\nfunction drawLine(x1, y1, x2, y2) {\r\n    context.beginPath()\r\n    context.moveTo(x1, y1)//起点\r\n    context.lineWidth = lineWidth\r\n    context.lineTo(x2, y2)//终点\r\n    context.stroke()\r\n    context.closePath()\r\n}\r\nfunction drawCircle(x, y, radius) {\r\n    context.beginPath()\r\n    context.arc(x, y, radius, 0, Math.PI * 2)\r\n    context.fill()\r\n    context.closePath()\r\n}\r\n\r\nfunction listenToUser() {\r\n    thin_wrapper.onclick = function(){\r\n        lineWidth = 5\r\n        thin.classList.add(\"active\")\r\n        thick.classList.remove(\"active\")\r\n    }\r\n    thick_wrapper.onclick = function(){\r\n        lineWidth = 10\r\n        thick.classList.add(\"active\")\r\n        thin.classList.remove(\"active\")\r\n    }\r\n    black.onclick = function () {\r\n        black.classList.add(\"active\")\r\n        red.classList.remove(\"active\")\r\n        yellow.classList.remove(\"active\")\r\n        blue.classList.remove(\"active\")\r\n        context.strokeStyle = \"black\"\r\n    }\r\n    red.onclick = function () {\r\n        red.classList.add(\"active\")\r\n        black.classList.remove(\"active\")\r\n        yellow.classList.remove(\"active\")\r\n        blue.classList.remove(\"active\")\r\n        context.strokeStyle = \"red\"\r\n    }\r\n    yellow.onclick = function () {\r\n        yellow.classList.add(\"active\")\r\n        black.classList.remove(\"active\")\r\n        red.classList.remove(\"active\")\r\n        blue.classList.remove(\"active\")\r\n        context.strokeStyle = \"yellow\"\r\n    }\r\n    blue.onclick = function () {\r\n        blue.classList.add(\"active\")\r\n        black.classList.remove(\"active\")\r\n        red.classList.remove(\"active\")\r\n        yellow.classList.remove(\"active\")\r\n        context.strokeStyle = \"blue\"\r\n    }\r\n\r\n    eraser.onclick = function () {\r\n        eraserEnabled = true\r\n        // actions.className = \"actions eraserEnabled\"\r\n        eraser.classList.add(\"active\")\r\n        pen.classList.remove(\"active\")\r\n    }\r\n    pen.onclick = function () {\r\n        eraserEnabled = false\r\n        pen.classList.add(\"active\")\r\n        eraser.classList.remove(\"active\")\r\n    }\r\n    clear.onclick = function(){\r\n        context.clearRect(0, 0, canvas.width, canvas.height)\r\n    }\r\n    download.onclick = function(){\r\n        var url = canvas.toDataURL()\r\n        console.log(url)\r\n        var a = document.createElement(\"a\")\r\n        a.download = \"myPainting.png\"\r\n        a.href = url\r\n        a.click()\r\n    }\r\n    if (\"ontouchstart\" in document.documentElement) {\r\n        canvas.ontouchstart = function (a) {\r\n            console.log(\"开始摸了\")\r\n            using = true\r\n            var x = a.touches[0].clientX\r\n            var y = a.touches[0].clientY\r\n            lastPoint.x = x\r\n            lastPoint.y = y\r\n        }\r\n        canvas.ontouchmove = function (a) {\r\n            var x = a.touches[0].clientX\r\n            var y = a.touches[0].clientY\r\n            if (using) {\r\n                if (eraserEnabled) {\r\n                    context.clearRect(x - 5, y - 5, 20, 20)\r\n                }\r\n                else {\r\n                    var newPoint = { x: x, y: y }\r\n                    // drawCircle(x, y, 1)\r\n                    drawLine(lastPoint.x, lastPoint.y, newPoint.x, newPoint.y)\r\n                    lastPoint = newPoint\r\n                }\r\n\r\n            }\r\n        }\r\n        canvas.ontouchend = function () {\r\n            using = false\r\n        }\r\n    } else {\r\n        canvas.onmousedown = function (a) {\r\n            using = true\r\n            var x = a.clientX\r\n            var y = a.clientY\r\n            lastPoint.x = x\r\n            lastPoint.y = y\r\n            // drawCircle(x, y, 1)\r\n        }\r\n        canvas.onmousemove = function (a) {\r\n            var x = a.clientX\r\n            var y = a.clientY\r\n            if (using) {\r\n                if (eraserEnabled) {\r\n                    context.clearRect(x - 5, y - 5, 20, 20)\r\n                }\r\n                else {\r\n                    var newPoint = { x: x, y: y }\r\n                    // drawCircle(x, y, 1)\r\n                    drawLine(lastPoint.x, lastPoint.y, newPoint.x, newPoint.y)\r\n                    lastPoint = newPoint\r\n                }\r\n\r\n            }\r\n        }\r\n        canvas.onmouseup = function () {\r\n            using = false\r\n        }\r\n    }\r\n}"],"names":["using","eraserEnabled","lastPoint","x","undefined","y","canvas","document","getElementById","actions","context","getContext","lineWidth","autoSetSize","setSize","window","onresize","pageWidth","documentElement","clientWidth","pageHeight","clientHeight","width","height","drawLine","x1","y1","x2","y2","beginPath","moveTo","lineTo","stroke","closePath","drawCircle","radius","arc","Math","PI","fill","listenToUser","thin_wrapper","onclick","thin","classList","add","thick","remove","thick_wrapper","black","red","yellow","blue","strokeStyle","eraser","pen","clear","clearRect","download","url","toDataURL","console","log","a","createElement","href","click","ontouchstart","touches","clientX","clientY","ontouchmove","newPoint","ontouchend","onmousedown","onmousemove","onmouseup"],"version":3,"file":"index.1aa2771c.js.map"}